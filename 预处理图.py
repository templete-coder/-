import numpy as py
import pandas as pd
import warnings
warnings.filterwarnings("ignore")
#图尺寸
l = 15
#图数据，是照着题目里的图写的
g = [
    [-1.0, 11.1, -1.0, 11.4, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 8.2, -1.0, -1.0],
    [11.1, -1.0, 8.2, 12.8, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    [-1.0, 8.2, -1.0, 7.7, 11.1, 9.4, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    [11.4, 12.8, 7.7, -1.0, -1.0, 6.9, -1.0, -1.0, -1.0, 12.7, -1.0, -1.0, 14.3, 10.0, 8.5],
    [-1.0, -1.0, 11.1, -1.0, -1.0, 7.4, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    [-1.0, -1.0, 9.4, 6.9, 7.4, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 11.2, -1.0],
    [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 12.9, 13.4, 14.5, -1.0, 10.6, -1.0],
    [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 9.0, -1.0, -1.0, 12.3, -1.0, -1.0, -1.0],
    [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 9.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0, -1.0],
    [-1.0, -1.0, -1.0, 12.7, -1.0, -1.0, 12.9, -1.0, -1.0, -1.0, 9.5, -1.0, 9.6, 6.9, 4.2],
    [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 13.4, -1.0, -1.0, 9.5, -1.0, 4.4, 15.0, -1.0, -1.0],
    [-1.0, -1.0, -1.0, -1.0, -1.0, -1.0, 14.5, 12.3, -1.0, -1.0, 4.4, -1.0, -1.0, -1.0, -1.0],
    [8.2, -1.0, -1.0, 14.3, -1.0, -1.0, -1.0, -1.0, -1.0, 9.6, 15.0, -1.0, -1.0, -1.0, -1.0],
    [-1.0, -1.0, -1.0, 10.0, -1.0, 11.2, 10.6, -1.0, -1.0, 6.9, -1.0, -1.0, -1.0, -1.0, 5.9],
    [-1.0, -1.0, -1.0, 8.5, -1.0, -1.0, -1.0, -1.0, -1.0, 4.2, -1.0, -1.0, -1.0, 5.9, -1.0]
]

#迪杰斯特拉算法的python实现
def dijkstra(s):
    will = {s}
    dis = [float("inf") for i in range(l)]
    dis[s] = 0
    ndis = 0
    while len(will) != 0:
        n = list(will)[0]
        for i in will :
            if dis[i] < dis[n] :
                n = i
        will.remove(n)
        for i in range(0,l):
            if g[n][i] != -1 :
                if dis[i] > dis[n]+g[n][i] :
                    dis[i] = dis[n]+g[n][i]
                    will.add(i)
    return dis

#计算每一个点到其他点的最短路径
ans =[dijkstra(i) for i in range(0,l)]
#保存数据
pd.DataFrame(ans).to_excel('./距离.xlsx')
